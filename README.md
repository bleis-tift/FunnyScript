# FunnyScript

* F# で作ったスクリプト言語です。ド素人が作った習作なので、ヘボいと思います。
* パーザーは FParsec を利用しています。
* ろくに勉強しないで勘で作ったので、ツッコミどころ満載だと思います。お手柔らかにお願いします。
* 関数型です（たぶん、そのつもり）。式ベースで、文はありません。
* 動的型付きのスクリプト言語です。静的型付き言語を作る能力は私にはありません＞＜
* 正格評価です。遅延評価はしません。
* これといって特筆すべき特長はありません。
* キーワード（予約語）がない言語にしてみようかなと思っていましたが、結局 do キーワードだけは存在しているという中途半端っぷりです。
* とても実用できる完成度ではありません。オモチャです。

## 文法

### コメント
```
// コメントです
```

### リテラル
```
123     // 整数値
3.14    // 浮動小数点数
"hello" // 文字列
true    // 真
false   // 偽
()      // null
(a, b)  // タプル
[a, b]  // リスト
```

文字列リテラルはバックスラッシュによるエスケープ処理とか未実装なのでダメダメです＞＜

### 変数束縛
```
a := 1;
b := 3.14;
c := "hello";
```

行末にセミコロンがついていると「文」っぽいですが、これは F# や OCaml などの `in` に相当する役割です。

### 関数定義（ラムダ式）
```
// x に10を足す関数
add10 := x -> x + 10;

// x + y を計算する関数
add := x -> y -> x + y;
```

ラムダ式以外に関数を定義する文法はありません。

### 条件分岐
```
result := ? x % 2 == 0 => "even" | "odd"
```

if 式なのですけれど、記号だけの変な文法にしてみました。
* `?` が if に相当します。
* `=>` が then に相当します。
* `|` が else に相当します。

特別ルールとして、`?` の前に `|` を付けて `|?` と書いてもOKです。
従って次のように書けます。
```
result :=
  |? x % 2 == 0 => "even"
  | "odd"
```
いわゆる `else if` も `|?` と書けます。
```
fizzbuzz := n ->
  |? n % 3 == 0 && n % 5 == 0 => "FizzBuzz"
  |? n % 3 == 0 => "Fizz"
  |? n % 5 == 0 => "Buzz"
  | n;
```

### 再帰呼び出し
（後で書く）

### レコード
（後で書く）

### リスト
（後で書く）

### パイプライン演算子
（後で書く）

### .NET Framework の呼び出し
（後で書く）
